# https://www.elastic.co/blog/getting-started-with-the-elastic-stack-and-docker-compose
---
version: "3.9"
services:
  logstash:
    container_name: logstash
    image: docker.elastic.co/logstash/logstash:8.12.2
    environment:
      - DATADIR=/data
      - CONFDIR=/config
      - CONFIG=/config/logstash.conf
      # - PATTERNDIR=/config/patterns
      # - LOGDIR=/logs/
    volumes:
      - ./config:/config
      - ./data:/data
      # - ./logs/:/logs/ # the dir with log files for ingest

  mysql:
    container_name: mysql
    image: mysql/mysql-server:8.0